!function(){"use strict";function e(e,s,o){var r=this;r.courses=[],r.newCourse={},r.errorMessage="",r.isBusy=!0,s.get("/api/courses").then(function(e){angular.copy(e.data,r.courses),r.isBusy=!1},function(e){r.errorMessage="Failed to load data: "+e})["finally"](function(){r.isBusy=!1}),r.addNewCourse=function(){r.errorMessage="",r.isBusy=!0,s.post("/api/courses",r.newCourse).then(function(e){r.courses.push(e.data),r.newCourse={},r.successTextAlert="New course has been added.",r.showSuccessAlert=!0},function(){r.errorMessage="Failed to save new course"})["finally"](function(){r.isBusy=!1})},r.deleteCourse=function(e){r.errorMessage="",r.isBusy=!0,s["delete"]("/api/courses/"+e).then(function(s){r.courses.splice(e,1),r.isBusy=!1,o.reload()},function(){r.errorMessage="Failed to delete course"})["finally"](function(){r.isBusy=!1})}}e.$inject=["$routeParams","$http","$route"],angular.module("app-courses").controller("coursesController",e)}();